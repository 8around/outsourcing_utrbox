# 🧾 UTRBOX 관리자 시스템 PRD (Product Requirements Document)

## 1. 프로젝트 개요

**프로젝트명**  
UTRBOX 콘텐츠(이미지) 저작권 관리 시스템

**목표**  
사용자가 업로드한 원본 콘텐츠(이미지)를 인공지능 기반으로 분석하여,  
유사 콘텐츠나 저작권 발견 가능성이 있는 콘텐츠를 탐지하고 관리할 수 있는 웹 시스템 구축

**시스템 구성**  
- **User 페이지** : 원본 콘텐츠 업로드, 분석 결과 확인, 발견 내역 관리  
- **Admin 페이지** : 회원 및 콘텐츠 검토, 발견 일치/불일치 처리, AI 분석 결과 관리

**AI 분석 기술(API 연동)**  
- Google API 활용 (API 정보는 추후 전달 예정)

---

## 2. 작업 범위

### 2.1 사용자 페이지 (User)

#### (1) 로그인 / 회원가입
- 이메일 및 비밀번호 기반 로그인
- 관리자 승인 후 접근 가능
- 이메일 인증 기반 비밀번호 찾기
- 역할(Role) 기반 접근 제어 (Member/Admin)

**UI 요소**
- 로그인 : 이메일, 비밀번호 입력 / 로그인 버튼 / 비밀번호 찾기
- 회원가입 : 이름, 이메일, 비밀번호, 소속 입력 / 가입 요청 버튼
- 승인 대기 문구 : “관리자 승인 후 로그인 가능합니다.”

---

#### (2) 원본 콘텐츠 리스트
- 사용자가 업로드한 전체 콘텐츠(이미지) 관리
- 감지 건수, 업로더 정보, 진행 상태 표시
- 검색/필터 (상태, 업로더명, 업로드일)
- 컬렉션 클릭 시 컬렉션에 포함된 콘텐츠 리스트 표시
- 컬렉션의 경우 파일탐색기 형식으로, 컬렉션 > 콘텐츠들 과 같이 2계층 구조

**표시 항목**
- 업로더명 / 파일명 / 업로드일 / 검토 상태 / 감지 건수

---

#### (3) 컬렉션 관리
- 콘텐츠 그룹(컬렉션) 단위 관리
- 컬렉션 생성, 이름 수정, 삭제 기능 제공
- 컬렉션 삭제 시 포함된 콘텐츠들 전부 삭제 (경고 문구 함께 작성)

---

#### (4) 콘텐츠 상세 검토
- 원본 콘텐츠 상세 정보 및 발견된 콘텐츠 리스트 제공
- 발견된 콘텐츠: 관리자가 '일치' 상태로 바꿔둔 이미지

**UI 구성**
- 상단 : 원본 콘텐츠 정보  
- 하단 : 발견 콘텐츠 리스트 

---

#### (5) 원본 콘텐츠 업로드
- jpg, png 형식 파일 업로드
- Supabase Storage에 저장
- 업로드 내역 조회 및 삭제 기능 제공
- 컬렉션 단위 업로드 지원

**UI 요소**
- [파일 선택] / [업로드] 버튼  
- 업로드 내역 테이블 : 파일명 / 업로드일 / 상태 / 컬렉션명

---

### 2.2 관리자 페이지 (Admin)

#### (1) 관리자 로그인
- 승인된 관리자만 접근 가능
- 로그인 실패 시 경고 문구 출력

**UI 요소**
- 이메일, 비밀번호 입력란  
- 경고 문구 : “아이디 또는 비밀번호를 확인하세요.”

---

#### (2) 회원 관리
- 전체 회원 정보 조회 및 수정
- 계정 비활성화, 삭제 가능
- 이메일·이름 검색 기능 지원

**표시 항목**
- 이름 / 이메일 / 소속 / 권한 / 승인 상태

---

#### (3) 원본 콘텐츠 리스트
- 사용자가 업로드한 전체 콘텐츠(이미지) 관리
- 감지 건수, 업로더 정보, 진행 상태 표시
- 검색/필터 (상태, 업로더명, 업로드일)
- 콘텐츠 조회/삭제 기능

**표시 항목**
- 업로더명 / 파일명 / 업로드일 / 검토 상태 / 감지 건수

---

#### (4) 콘텐츠 상세 검토
- 원본 콘텐츠 상세 정보 및 발견된 콘텐츠 리스트 제공
- Google API 직접 실행 가능 (버튼을 클릭하여 실행)

**UI 구성**
- 상단 : 원본 콘텐츠 정보  
- 하단 : 발견 콘텐츠 리스트  
- 항목 클릭 시 비교 모달 팝업 실행

---

#### (5) 콘텐츠 비교 모달
- 원본과 발견 콘텐츠를 좌우 비교
- 관리자가 직접 검토 후 결과 선택

**비교 결과 옵션**
- ✅ 일치 (발견 인정)  
- ❌ 불일치 (발견 아님)  
- ⚠ 비교 불가  

**UI 구성**
- 좌측 : 원본 콘텐츠  
- 우측 : 발견 콘텐츠  
- 하단 : 일치 / 불일치 / 비교불가 버튼


---

#### (6) AI 분석 기능 (API 활용)
- API 정보 추후 전달 예정
- 라벨, 텍스트, 웹 탐지 결과 수집 (LABEL_DETECTION, TEXT_DETECTION, WEB_DETECTION(fullMatchingImages, partiallyMatchingImages, visuallySimilarImages))
- 첫 요청 시 라벨, 텍스트, 웹 탐지를 한번에 요청하며 이후부터 독립적으로 요청
- 웹 탐지 결과 요청 시 기존 결과들의 url과 다른 결과들만 저장
- 결과 자동 반영 및 리스트 갱신

**처리 절차**
- “분석 실행” 버튼 클릭 → API 호출 → 발견 콘텐츠 리스트에 결과 반영

---

## 3. 산출물
- 웹 애플리케이션 전체 소스코드 (User/Admin)

---

## 4. 개발 일정
- 총 개발 기간 : **약 3주 (15 영업일)**
- API 지연 등 발생 시 ±2일 조정 가능
