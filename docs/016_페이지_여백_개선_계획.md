# 페이지 여백 개선 계획

**작성일:** 2024-10-27
**목표:** 모든 페이지 내 콘텐츠에 균일한 상하좌우 여백 적용

---

## 1. 개요

### 1.1 현재 문제점

현재 애플리케이션의 페이지 레이아웃은 다음과 같은 문제를 가지고 있습니다:

**레이아웃 구조:**
```
┌─────────────────────────────────────────┐
│ Header (별도 컴포넌트)                   │
├─────────────────────────────────────────┤
│ Main (UserLayout)                       │ ← 여백 없음
│ ┌─────────────────────────────────────┐ │
│ │ Page Content (children)             │ │ ← 화면 끝까지 확장
│ │ - Explorer 페이지                    │ │
│ │ - Content Detail 페이지              │ │
│ │ - Upload 페이지                      │ │
│ └─────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│ Footer (별도 컴포넌트)                   │
└─────────────────────────────────────────┘
```

**문제점:**
1. **좌우 여백 부재**: 콘텐츠가 화면 양 끝까지 붙어있어 답답한 느낌
2. **일관성 부족**: 각 페이지마다 개별적으로 padding을 적용 (Explorer의 StatsCards만 p-6)
3. **반응형 대응 부족**: 화면 크기에 따른 여백 조절 없음
4. **가독성 저하**: 큰 화면에서 콘텐츠가 너무 넓게 펼쳐짐

### 1.2 개선 목표

1. **균일한 여백**: 모든 페이지에 상하좌우 일관된 여백 적용
2. **반응형 여백**: 화면 크기에 따라 적절한 여백 자동 조정
3. **재사용성**: Container 컴포넌트를 통한 일관된 레이아웃 관리
4. **유연성**: 페이지 타입에 따라 다른 Container 적용 가능

---

## 2. 디자인 원칙

### 2.1 여백 철학

- **Breathing Space**: 콘텐츠와 화면 경계 사이에 충분한 공간 확보
- **Visual Comfort**: 가독성과 시각적 편안함 우선
- **Responsive Scale**: 화면 크기에 비례한 여백 조정
- **Content First**: 콘텐츠 영역이 항상 중심

### 2.2 여백 시스템 기준

**Tailwind CSS 기반 반응형 여백:**

| Screen Size | Breakpoint | Horizontal Padding | Vertical Padding |
|-------------|------------|-------------------|------------------|
| Mobile      | < 640px    | `px-4` (16px)     | `py-4` (16px)    |
| Tablet      | 640px+     | `px-6` (24px)     | `py-6` (24px)    |
| Desktop     | 1024px+    | `px-8` (32px)     | `py-6` (24px)    |
| Large       | 1280px+    | `px-12` (48px)    | `py-8` (32px)    |

**Max-Width 기준:**
- **Standard Pages**: `max-w-7xl` (1280px) - Content Detail, Upload
- **Full-Width Pages**: 여백만 적용, max-width 없음 - Explorer
- **Narrow Pages**: `max-w-4xl` (896px) - Auth Pages (이미 적용됨)

---

## 3. Container 컴포넌트 설계

### 3.1 컴포넌트 아키텍처

```
components/layout/
├── Container.tsx           # 기본 Container (재사용 가능)
├── PageContainer.tsx       # Standard 페이지용
├── FullHeightContainer.tsx # 전체 높이 페이지용 (Explorer)
└── index.ts                # Export
```

### 3.2 Container 컴포넌트 (Base)

**파일:** `components/layout/Container.tsx`

```typescript
import { cn } from '@/lib/utils'
import { ReactNode } from 'react'

interface ContainerProps {
  children: ReactNode
  className?: string
  maxWidth?: 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl' | '5xl' | '6xl' | '7xl' | 'full'
  noPadding?: boolean
}

const maxWidthClasses = {
  sm: 'max-w-sm',
  md: 'max-w-md',
  lg: 'max-w-lg',
  xl: 'max-w-xl',
  '2xl': 'max-w-2xl',
  '3xl': 'max-w-3xl',
  '4xl': 'max-w-4xl',
  '5xl': 'max-w-5xl',
  '6xl': 'max-w-6xl',
  '7xl': 'max-w-7xl',
  full: '',
}

export function Container({
  children,
  className,
  maxWidth = '7xl',
  noPadding = false,
}: ContainerProps) {
  return (
    <div
      className={cn(
        'mx-auto w-full',
        !noPadding && 'px-4 sm:px-6 lg:px-8 xl:px-12',
        maxWidthClasses[maxWidth],
        className
      )}
    >
      {children}
    </div>
  )
}
```

**특징:**
- `mx-auto`: 좌우 중앙 정렬
- `w-full`: 전체 너비 사용
- 반응형 패딩: `px-4 sm:px-6 lg:px-8 xl:px-12`
- 선택 가능한 max-width
- `noPadding` prop으로 패딩 제거 가능

### 3.3 PageContainer 컴포넌트

**파일:** `components/layout/PageContainer.tsx`

```typescript
import { cn } from '@/lib/utils'
import { ReactNode } from 'react'
import { Container } from './Container'

interface PageContainerProps {
  children: ReactNode
  className?: string
  maxWidth?: 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl' | '5xl' | '6xl' | '7xl' | 'full'
  withVerticalPadding?: boolean
}

export function PageContainer({
  children,
  className,
  maxWidth = '7xl',
  withVerticalPadding = true,
}: PageContainerProps) {
  return (
    <Container
      maxWidth={maxWidth}
      className={cn(withVerticalPadding && 'py-4 sm:py-6 lg:py-6 xl:py-8', className)}
    >
      {children}
    </Container>
  )
}
```

**사용 대상:**
- Content Detail 페이지
- Upload 페이지
- 일반 콘텐츠 페이지

**특징:**
- 상하 패딩 자동 적용 (옵션)
- max-width로 콘텐츠 폭 제한
- 중앙 정렬

### 3.4 FullHeightContainer 컴포넌트

**파일:** `components/layout/FullHeightContainer.tsx`

```typescript
import { cn } from '@/lib/utils'
import { ReactNode } from 'react'

interface FullHeightContainerProps {
  children: ReactNode
  className?: string
}

export function FullHeightContainer({ children, className }: FullHeightContainerProps) {
  return (
    <div className={cn('flex h-full flex-col px-4 py-4 sm:px-6 sm:py-6 lg:px-8 xl:px-12', className)}>
      {children}
    </div>
  )
}
```

**사용 대상:**
- Explorer 페이지 (전체 높이 필요)
- Dashboard 같은 데이터 중심 페이지

**특징:**
- `h-full`: 부모의 전체 높이 사용
- `flex flex-col`: 세로 방향 flexbox
- max-width 없음 (전체 너비 활용)
- 상하좌우 균일한 패딩

---

## 4. 페이지별 적용 전략

### 4.1 Explorer 페이지 (`app/(user)/page.tsx`)

**현재 구조:**
```tsx
return (
  <div className="flex h-full flex-col">
    <div className="p-6">
      <StatsCards ... />
    </div>
    <div className="flex flex-1 flex-col overflow-hidden">
      <ExplorerToolbar ... />
      <div className="flex-1 overflow-hidden">
        <ContentExplorerView ... />
      </div>
    </div>
  </div>
)
```

**개선 후 구조:**
```tsx
import { FullHeightContainer } from '@/components/layout'

return (
  <FullHeightContainer>
    <div className="mb-6">
      <StatsCards ... />
    </div>
    <div className="flex flex-1 flex-col overflow-hidden">
      <ExplorerToolbar ... />
      <div className="flex-1 overflow-hidden">
        <ContentExplorerView ... />
      </div>
    </div>
  </FullHeightContainer>
)
```

**변경 사항:**
- ✅ `FullHeightContainer`로 감싸기
- ✅ StatsCards의 개별 `p-6` 제거 → `mb-6`로 변경 (하단 마진만)
- ✅ 전체 페이지에 균일한 여백 적용

### 4.2 Content Detail 페이지 (`app/(user)/contents/[id]/page.tsx`)

**현재 구조:**
```tsx
return (
  <div className="container mx-auto py-6">
    {/* Content */}
  </div>
)
```

**개선 후 구조:**
```tsx
import { PageContainer } from '@/components/layout'

return (
  <PageContainer maxWidth="7xl">
    {/* Content */}
  </PageContainer>
)
```

**변경 사항:**
- ✅ `PageContainer` 사용
- ✅ 반응형 패딩 자동 적용
- ✅ max-width로 큰 화면에서 가독성 확보

### 4.3 Upload 페이지 (`app/(user)/contents/upload/page.tsx`)

**적용 방법:**
```tsx
import { PageContainer } from '@/components/layout'

export default function UploadPage() {
  return (
    <PageContainer maxWidth="4xl">
      {/* Upload Form */}
    </PageContainer>
  )
}
```

**특징:**
- 좁은 max-width (4xl) 사용 → 폼 가독성 향상
- 중앙 정렬로 집중도 향상

### 4.4 Auth 페이지 (이미 적용됨)

**현재 구조:**
```tsx
// app/(auth)/layout.tsx
<div className="bg-secondary-50 flex min-h-screen items-center justify-center px-4 py-12 sm:px-6 lg:px-8">
  <div className="w-full max-w-md">
    {children}
  </div>
</div>
```

**상태:** ✅ 이미 적절한 여백이 적용되어 있음 → 변경 불필요

---

## 5. 반응형 여백 세부 사양

### 5.1 Breakpoint별 여백 매핑

**Horizontal Padding:**
```css
/* Mobile (< 640px) */
px-4 → 16px

/* Tablet (640px ~ 1023px) */
sm:px-6 → 24px

/* Desktop (1024px ~ 1279px) */
lg:px-8 → 32px

/* Large Desktop (1280px+) */
xl:px-12 → 48px
```

**Vertical Padding (PageContainer):**
```css
/* Mobile (< 640px) */
py-4 → 16px

/* Tablet (640px ~ 1023px) */
sm:py-6 → 24px

/* Desktop (1024px+) */
lg:py-6 → 24px (유지)

/* Large Desktop (1280px+) */
xl:py-8 → 32px
```

**Vertical Padding (FullHeightContainer):**
```css
/* 전 화면에서 동일 */
py-4 sm:py-6 → 16px ~ 24px
```

### 5.2 Max-Width 사양

**Container 타입별 max-width:**

| Container Type        | max-width    | Pixel Value | 사용 대상              |
|----------------------|--------------|-------------|------------------------|
| PageContainer (기본) | `max-w-7xl`  | 1280px      | Content Detail         |
| PageContainer (좁음) | `max-w-4xl`  | 896px       | Upload Form            |
| FullHeightContainer  | 없음         | 100%        | Explorer, Dashboard    |
| Auth Layout          | `max-w-md`   | 448px       | Login, Signup (이미 적용) |

### 5.3 화면 크기별 실제 콘텐츠 영역

**예시: PageContainer (max-w-7xl) 사용 시**

| Screen Width | Padding (좌우) | Max-Width | 실제 콘텐츠 영역 |
|--------------|---------------|-----------|------------------|
| 375px (모바일) | 16px × 2     | -         | 343px            |
| 768px (태블릿) | 24px × 2     | -         | 720px            |
| 1024px (데스크탑) | 32px × 2  | -         | 960px            |
| 1440px (큰 화면) | 48px × 2  | 1280px    | 1280px (고정)    |
| 1920px (FHD) | 48px × 2      | 1280px    | 1280px (고정)    |

**예시: FullHeightContainer 사용 시**

| Screen Width | Padding (좌우) | 실제 콘텐츠 영역 |
|--------------|---------------|------------------|
| 375px (모바일) | 16px × 2     | 343px            |
| 768px (태블릿) | 24px × 2     | 720px            |
| 1024px (데스크탑) | 32px × 2  | 960px            |
| 1440px (큰 화면) | 48px × 2  | 1344px           |
| 1920px (FHD) | 48px × 2      | 1824px           |

---

## 6. 구현 단계

### Phase 1: Container 컴포넌트 생성

**작업 순서:**

1. **Container.tsx 생성**
   - 파일: `components/layout/Container.tsx`
   - 기본 Container 컴포넌트 구현
   - Props: `maxWidth`, `noPadding`, `className`

2. **PageContainer.tsx 생성**
   - 파일: `components/layout/PageContainer.tsx`
   - Container를 확장한 페이지 전용 컨테이너
   - 상하 패딩 자동 추가

3. **FullHeightContainer.tsx 생성**
   - 파일: `components/layout/FullHeightContainer.tsx`
   - 전체 높이 페이지용 컨테이너
   - flex-col, h-full 적용

4. **index.ts 업데이트**
   - 파일: `components/layout/index.ts`
   - 새 컴포넌트 export 추가

### Phase 2: Explorer 페이지 적용

**파일:** `app/(user)/page.tsx`

**변경 사항:**
```tsx
// Before
<div className="flex h-full flex-col">
  <div className="p-6">
    <StatsCards ... />
  </div>
  ...
</div>

// After
import { FullHeightContainer } from '@/components/layout'

<FullHeightContainer>
  <div className="mb-6">
    <StatsCards ... />
  </div>
  ...
</FullHeightContainer>
```

**주의사항:**
- StatsCards 내부에 이미 grid gap이 있으므로 mb-6만 추가
- ExplorerToolbar와 ContentExplorerView는 내부 패딩 유지

### Phase 3: Content Detail 페이지 적용

**파일:** `app/(user)/contents/[id]/page.tsx`

**변경 사항:**
```tsx
// Before
<div className="container mx-auto py-6">
  ...
</div>

// After
import { PageContainer } from '@/components/layout'

<PageContainer maxWidth="7xl">
  ...
</PageContainer>
```

### Phase 4: Upload 페이지 적용

**파일:** `app/(user)/contents/upload/page.tsx`

**변경 사항:**
```tsx
// Before
<div className="min-h-screen">
  ...
</div>

// After
import { PageContainer } from '@/components/layout'

<PageContainer maxWidth="4xl">
  ...
</PageContainer>
```

**이유:**
- 업로드 폼은 좁은 max-width가 가독성에 유리
- 4xl (896px)로 제한하여 입력 필드가 너무 넓어지지 않도록

### Phase 5: Admin 및 기타 페이지 검토

**대상:**
- Admin 페이지들 (`app/admin/**/*.tsx`)
- 기타 추가 페이지

**작업:**
1. 각 페이지 레이아웃 검토
2. 적절한 Container 컴포넌트 선택 및 적용
3. 기존 padding/margin 조정

### Phase 6: 빌드 및 테스트

**테스트 항목:**

1. **빌드 성공 확인**
   ```bash
   npm run build
   ```

2. **반응형 테스트** (Chrome DevTools)
   - Mobile (375px): 여백 16px 확인
   - Tablet (768px): 여백 24px 확인
   - Desktop (1024px): 여백 32px 확인
   - Large (1440px): 여백 48px 확인

3. **페이지별 기능 테스트**
   - Explorer: 컬렉션 탐색, 콘텐츠 보기
   - Content Detail: 콘텐츠 상세 정보 표시
   - Upload: 파일 업로드 폼 동작

4. **시각적 검증**
   - 여백이 균일한지 확인
   - 콘텐츠가 중앙 정렬되는지 확인
   - 스크롤이 정상 동작하는지 확인

---

## 7. 예상 결과

### 7.1 Before & After 비교

**Explorer 페이지:**

**Before:**
```
┌─────────────────────────────────────────────┐
│ StatsCards (p-6 내부 패딩만)                │
├─────────────────────────────────────────────┤ ← 여백 없음
│ ExplorerToolbar                             │
├─────────────────────────────────────────────┤
│ ContentExplorerView                         │
└─────────────────────────────────────────────┘
```

**After:**
```
    ┌─────────────────────────────────────┐
    │  (16~48px 좌우 여백)                │
    │  ┌───────────────────────────────┐  │
    │  │ StatsCards                    │  │
    │  ├───────────────────────────────┤  │
    │  │ ExplorerToolbar               │  │
    │  ├───────────────────────────────┤  │
    │  │ ContentExplorerView           │  │
    │  └───────────────────────────────┘  │
    └─────────────────────────────────────┘
```

**Content Detail 페이지:**

**Before:**
```
┌─────────────────────────────────────────────┐
│ Content (container mx-auto py-6)            │ ← 좌우 여백 없음
│ ┌─────────────────────────────────────────┐ │
│ │ 콘텐츠 상세 정보                         │ │
│ └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

**After:**
```
    ┌─────────────────────────────────────┐
    │  (16~48px 좌우 여백)                │
    │  ┌───────────────────────────────┐  │
    │  │ 콘텐츠 상세 정보              │  │
    │  │ (max-width: 1280px)           │  │
    │  └───────────────────────────────┘  │
    └─────────────────────────────────────┘
```

### 7.2 개선 효과

**UX 측면:**
- ✅ 시각적 안정감 향상 (콘텐츠가 화면 끝에 붙지 않음)
- ✅ 가독성 향상 (큰 화면에서 콘텐츠 폭 제한)
- ✅ 반응형 경험 개선 (화면 크기별 최적 여백)

**개발 측면:**
- ✅ 일관된 레이아웃 관리
- ✅ 재사용 가능한 Container 컴포넌트
- ✅ 유지보수 용이성 향상

**성능 측면:**
- ✅ CSS 최적화 (Tailwind JIT 컴파일)
- ✅ 불필요한 스타일 중복 제거
- ✅ 빌드 크기 영향 최소

### 7.3 품질 기준

**시각적 품질:**
- [ ] 모든 페이지에 균일한 여백 적용
- [ ] 큰 화면(1920px+)에서 max-width 정상 작동
- [ ] 작은 화면(375px)에서 콘텐츠 잘림 없음

**기능적 품질:**
- [ ] 스크롤 정상 동작
- [ ] 반응형 레이아웃 정상 작동
- [ ] 기존 기능 정상 동작 (회귀 없음)

**코드 품질:**
- [ ] TypeScript 타입 에러 없음
- [ ] ESLint 경고 최소화
- [ ] 컴포넌트 재사용성 확보

---

## 8. 참고 사항

### 8.1 Tailwind CSS Spacing Scale

```
px-4  = 1rem  = 16px
px-6  = 1.5rem = 24px
px-8  = 2rem  = 32px
px-12 = 3rem  = 48px
```

### 8.2 Tailwind CSS Max-Width Scale

```
max-w-md  = 28rem  = 448px
max-w-4xl = 56rem  = 896px
max-w-7xl = 80rem  = 1280px
```

### 8.3 관련 파일

**레이아웃:**
- `app/layout.tsx` - RootLayout
- `app/(user)/layout.tsx` - UserLayout (Header + Footer)
- `app/(auth)/layout.tsx` - AuthLayout

**새로 생성할 컴포넌트:**
- `components/layout/Container.tsx`
- `components/layout/PageContainer.tsx`
- `components/layout/FullHeightContainer.tsx`

**수정할 페이지:**
- `app/(user)/page.tsx` - Explorer
- `app/(user)/contents/[id]/page.tsx` - Content Detail
- `app/(user)/contents/upload/page.tsx` - Upload

### 8.4 주의사항

1. **기존 패딩 제거**: Container 적용 후 기존의 개별 padding 클래스 제거 필요
2. **높이 관리**: FullHeightContainer 사용 시 부모의 height 설정 확인
3. **스크롤**: overflow 처리가 필요한 영역 확인
4. **반응형 테스트**: 모든 breakpoint에서 테스트 필수

---

**문서 버전:** 1.0
**최종 수정:** 2024-10-27
